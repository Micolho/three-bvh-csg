var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},t=e.parcelRequirefee5;null==t&&((t=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,o){n[e]=o},e.parcelRequirefee5=t);var i=t("ilwiq"),r=t("jiuw3"),a=t("fUhpq"),s=t("5Rd1x"),d=t("4CEV9");const p={snap:!0,wireframe:!1,displayControls:!0,transparentBrushes:!0,display:"OVERLAY"};let w,l,c,f,u,y,m,B,O,h,T,x,g,G;function R(){requestAnimationFrame(R);const e=window.performance.now();p.transparentBrushes?(x.depthWrite=!1,x.transparent=!0,x.opacity=.15):(x.depthWrite=!0,x.transparent=!1,x.opacity=1),h&&(h.geometry.dispose(),h.parent.remove(h)),h=O.evaluateHierarchy(T),h.material=g,c.add(h),G.geometry=h.geometry,G.visible=p.wireframe;const o=window.performance.now()-e;u.innerText=`${o.toFixed(3)}ms`,m.enabled=p.displayControls,m.visible=p.displayControls,h.visible="BRUSHES"!==p.display,T.visible="RESULT"!==p.display,w.render(c,l)}!async function(){u=document.getElementById("output"),w=new i.WebGLRenderer({antialias:!0}),w.setPixelRatio(window.devicePixelRatio),w.setSize(window.innerWidth,window.innerHeight),w.setClearColor(1118481,1),w.outputEncoding=i.sRGBEncoding,document.body.appendChild(w.domElement),c=new i.Scene,B=new i.DirectionalLight(16777215,1),B.position.set(-1,2,3),c.add(B,B.target),c.add(new i.AmbientLight(11583173,.1)),l=new i.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50),l.position.set(3,2,4).multiplyScalar(2),l.far=100,l.updateProjectionMatrix(),y=new(0,s.OrbitControls)(l,w.domElement),m=new(0,a.TransformControls)(l,w.domElement),m.setSize(.75),m.addEventListener("dragging-changed",(e=>{y.enabled=!e.value})),m.addEventListener("objectChange",(e=>{if(p.snap){const e=m.object;e.position.x=.1*Math.floor(10*e.position.x),e.position.y=.1*Math.floor(10*e.position.y),e.position.z=.1*Math.floor(10*e.position.z)}})),c.add(m),O=new(0,d.Evaluator),O.attributes=["position","normal"],O.useGroups=!1,x=new(0,d.GridMaterial),x.side=i.DoubleSide,x.polygonOffset=!0,x.polygonOffsetFactor=2,x.polygonOffsetUnits=1,x.opacity=.15,x.transparent=!0,x.depthWrite=!1,x.color.set(16761856).convertSRGBToLinear(),g=x.clone(),g.opacity=1,g.transparent=!1,g.depthWrite=!0,g.polygonOffsetFactor=1,g.polygonOffsetUnits=1,g.color.set(16777215).convertSRGBToLinear(),G=new i.Mesh(void 0,new i.MeshBasicMaterial({color:0,wireframe:!0})),G.material.color.set(16761856).convertSRGBToLinear().multiplyScalar(.1),c.add(G),T=new(0,d.Operation)(new i.BoxBufferGeometry(10,5,5),x),c.add(T);{const e=new(0,d.Operation)(new i.BoxBufferGeometry(9,4.5,4),x);e.operation=d.SUBTRACTION,T.add(e)}{const e=new(0,d.Operation)(new i.CylinderBufferGeometry(.5,.5,1,20),x);e.operation=d.SUBTRACTION,e.rotateX(Math.PI/2),e.position.y=.25;const o=new(0,d.Operation)(new i.BoxBufferGeometry(1,2.5,1),x);o.operation=d.SUBTRACTION,o.position.y=-1;const n=new(0,d.OperationGroup);n.position.z=2.2,n.add(e,o),T.add(n),m.attach(n)}{const e=new(0,d.Operation)(new i.BoxBufferGeometry(2,1.75,2),x);e.operation=d.SUBTRACTION;const o=new(0,d.Operation)(new i.BoxBufferGeometry(2,1.75,.2),x);o.operation=d.ADDITION;const n=new(0,d.Operation)(new i.BoxBufferGeometry(1.9,1.65,2),x);n.operation=d.SUBTRACTION;const t=new(0,d.Operation)(new i.BoxBufferGeometry(2,.1,.1),x);t.operation=d.ADDITION;const r=new(0,d.Operation)(new i.BoxBufferGeometry(.1,2,.1),x);r.operation=d.ADDITION;const a=new(0,d.OperationGroup);a.add(e,o,n,t,r),a.position.x=-3,a.position.z=2.2,T.add(a)}{const e=new(0,d.Operation)(new i.BoxBufferGeometry(2,1.75,2),x);e.operation=d.SUBTRACTION;const o=new(0,d.Operation)(new i.BoxBufferGeometry(2,1.75,.2),x);o.operation=d.ADDITION;const n=new(0,d.Operation)(new i.BoxBufferGeometry(1.9,1.65,2),x);n.operation=d.SUBTRACTION;const t=new(0,d.Operation)(new i.BoxBufferGeometry(2,.1,.1),x);t.operation=d.ADDITION;const r=new(0,d.Operation)(new i.BoxBufferGeometry(.1,2,.1),x);r.operation=d.ADDITION;const a=new(0,d.OperationGroup);a.add(e,o,n,t,r),a.position.x=3,a.position.z=2.2,T.add(a)}f=new(0,r.GUI),f.add(p,"wireframe"),f.add(p,"snap"),f.add(p,"displayControls"),f.add(p,"transparentBrushes"),f.add(p,"display",["OVERLAY","BRUSHES","RESULT"]),window.addEventListener("resize",(function(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight)}),!1),window.addEventListener("keydown",(function(e){switch(e.code){case"KeyW":m.setMode("translate");break;case"KeyE":m.setMode("rotate");break;case"KeyR":m.setMode("scale")}})),R()}();
//# sourceMappingURL=hierarchy.aa51a717.js.map
